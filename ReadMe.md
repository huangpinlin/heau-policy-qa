# 🤖 河南大学智能政策咨询系统

## 📖 项目简介

河南大学智能政策咨询系统是一个基于人工智能和大语言模型的政策问答系统，专门为河南大学师生提供政策咨询服务。系统采用检索增强生成（RAG）技术，能够准确理解用户问题并提供专业的政策解答。

## ✨ 核心特性

- **智能问答**: 基于大语言模型的自然语言理解，支持中文对话
- **政策检索**: 使用FAISS向量数据库进行高效的政策文档检索
- **实时交互**: Web界面支持实时对话，提供流畅的用户体验
- **参考来源**: 每个回答都提供详细的参考来源和文档链接
- **多平台支持**: 支持Web界面和命令行界面两种使用方式

## 🏗️ 系统架构

```
heau-policy-qa/
├── qa_system_core.py      # 核心QA系统逻辑
├── web_interface.py       # Web聊天界面
├── chat_interface.py      # 命令行聊天界面
├── links_config.py        # 链接配置文件
├── start_chat.py          # 统一启动脚本
├── requirements.txt       # Python依赖包
├── templates/             # Web界面模板
│   └── index.html        # 主页面HTML
├── data/                  # 数据目录
│   ├── raw/              # 原始政策文档
│   └── processed/        # 处理后的文档
├── faiss_index/          # FAISS向量索引
└── ReadMe.md             # 项目说明文档
```

## 🚀 快速开始

### 环境要求

- Python 3.8+
- 8GB+ 内存（用于模型加载）
- 支持CUDA的GPU（可选，用于加速推理）

### 安装步骤

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd heau-policy-qa
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **准备数据**
   ```bash
   python create_index.py
   ```

4. **启动系统**
   ```bash
   python start_chat.py
   ```

## 📊 流程图

```mermaid
flowchart LR
  A[用户输入问题] --> B{RAG 检索增强}
  B --> C[FastEmbed 生成向量]
  C --> D[在 FAISS 索引中相似度检索]
  D --> E{Prompt 构建}
  E --> F[HuggingFace Transformers 语言模型]
  F --> G[生成最终答案]
  G --> H[在 Web/命令行界面展示答案与参考来源]
```

## 💻 使用方法

### Web界面（推荐）

1. 运行启动脚本选择Web界面
2. 在浏览器中访问 `http://localhost:5000`
3. 输入您的问题，系统会实时回答
4. 查看参考来源和文档详情

### 命令行界面

1. 运行启动脚本选择命令行界面
2. 直接输入问题，按Enter发送
3. 系统会显示AI回答和参考来源

## 🔧 系统配置

### 模型配置

系统默认使用以下配置：
- **语言模型**: 支持多种HuggingFace模型
- **嵌入模型**: FastEmbedEmbeddings
- **向量数据库**: FAISS
- **检索策略**: 相似度检索

### 链接配置

系统提供河南大学官网链接，支持：
- 奖学金管理办法
- 学生资助工作实施细则
- 转专业管理办法

## 📚 支持的政策类型

- **奖学金管理**: 奖学金申请条件、评选标准、发放流程
- **学生资助**: 助学金、贷款、勤工助学等政策
- **学籍管理**: 转专业、休学、复学等规定
- **其他政策**: 根据文档内容自动识别

## 🛠️ 技术栈

- **后端框架**: Flask + Flask-SocketIO
- **AI模型**: HuggingFace Transformers
- **向量数据库**: FAISS
- **前端技术**: HTML5 + CSS3 + JavaScript
- **实时通信**: WebSocket (Socket.IO)
- **数据处理**: LangChain

## 📁 文件说明

### 核心文件

- `qa_system_core.py`: 核心QA系统，包含模型加载、检索、生成逻辑
- `web_interface.py`: Web界面后端，处理HTTP请求和WebSocket通信
- `chat_interface.py`: 命令行界面，提供终端交互体验
- `links_config.py`: 链接配置管理，统一管理外部链接

### 启动文件

- `start_chat.py`: 统一启动脚本，提供界面选择菜单
- `create_index.py`: 创建FAISS索引，处理原始文档

### 配置文件

- `requirements.txt`: Python依赖包列表
- `templates/index.html`: Web界面HTML模板

## 🔍 系统特性详解

### 智能问答能力

- **自然语言理解**: 支持多种表达方式的问题
- **上下文理解**: 能够理解对话上下文
- **专业术语**: 准确理解教育政策专业术语
- **多轮对话**: 支持连续对话和问题澄清

### 检索增强生成

- **语义检索**: 基于向量相似度的智能检索
- **多文档融合**: 自动整合多个相关文档信息
- **准确性保证**: 每个回答都有明确的参考来源
- **实时更新**: 支持文档库的动态更新

### 用户体验优化

- **响应式设计**: 支持多种设备屏幕尺寸
- **实时反馈**: 输入指示器和加载状态
- **错误处理**: 友好的错误提示和异常处理
- **历史记录**: 自动保存对话历史

## 🚨 注意事项

1. **首次启动**: 系统需要下载模型文件，请确保网络连接正常
2. **内存要求**: 大语言模型需要较多内存，建议8GB以上
3. **GPU加速**: 如有NVIDIA GPU，可安装CUDA版本加速推理
4. **文档更新**: 政策文档更新后需要重新创建索引

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进系统：

1. Fork项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：

- 提交GitHub Issue
- 发送邮件至项目维护者
- 参与项目讨论

## 🔮 未来规划

- [ ] 支持更多政策文档类型
- [ ] 增加多语言支持
- [ ] 优化模型性能
- [ ] 添加用户认证系统
- [ ] 支持移动端应用

---

**河南大学智能政策咨询系统** - 让政策咨询更智能、更便捷！ 🎓✨
